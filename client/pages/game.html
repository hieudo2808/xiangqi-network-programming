<!doctype html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Game - C·ªù T∆∞·ªõng Online</title>
        <link rel="stylesheet" href="../assets/css/board.css" />
        <link rel="stylesheet" href="../assets/css/game.css" />
    </head>

    <body>
        <div class="game-page">
            <header class="game-header">
                <h1 class="game-title">ƒêang Ch∆°i</h1>
                <div class="game-actions">
                    <button class="btn btn-warning" id="btn-draw-offer">Xin H√≤a</button>
                    <button class="btn btn-danger" id="btn-resign">ƒê·∫ßu H√†ng</button>
                    <button class="btn btn-secondary" id="btn-leave">R·ªùi</button>
                </div>
            </header>

            <div class="game-container">
                <div class="game-left">
                    <div class="player-panel" id="opponent-panel">
                        <div class="player-avatar" id="opponent-avatar">‚ö´</div>
                        <div class="player-details">
                            <div class="player-name" id="opponent-name">ƒê·ªëi th·ªß</div>
                            <div class="player-rating" id="opponent-rating">1500</div>
                        </div>
                        <div class="timer-display" id="opponent-timer">10:00</div>
                    </div>

                    <div class="board-container">
                        <div id="xiangqi-board"></div>
                    </div>
                    <div class="player-panel active" id="player-panel">
                        <div class="player-avatar" id="player-avatar">üî¥</div>
                        <div class="player-details">
                            <div class="player-name" id="player-name">B·∫°n</div>
                            <div class="player-rating" id="player-rating">1500</div>
                        </div>
                        <div class="timer-display" id="player-timer">10:00</div>
                    </div>
                </div>

                <div class="game-right">
                    <div class="turn-indicator">
                        <div class="turn-text" id="turn-text">L∆∞·ª£t ƒë·ªëi th·ªß</div>
                    </div>
                    <div class="game-panel">
                        <h3 class="panel-header">L·ªãch S·ª≠ N∆∞·ªõc ƒêi</h3>
                        <div class="moves-list" id="moves-list">
                            <div style="color: #aaa; text-align: center; padding: 20px">Ch∆∞a c√≥ n∆∞·ªõc ƒëi n√†o</div>
                        </div>
                    </div>
                    <div class="game-chat">
                        <div class="chat-header">Tr√≤ chuy·ªán</div>

                        <div class="chat-messages" id="chat-messages"></div>

                        <div class="chat-input-area">
                            <input type="text" id="chat-input" placeholder="Nh·∫≠p tin nh·∫Øn..." autocomplete="off" />

                            <button id="btn-send-chat">
                                <svg
                                    width="20"
                                    height="20"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <line x1="22" y1="2" x2="11" y2="13"></line>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal" id="result-modal">
            <div class="modal-content">
                <h2 id="result-title">K·∫øt Qu·∫£</h2>
                <div class="result-stats">
                    <div class="stat-row">
                        <span>Th·ªùi gian tr·∫≠n:</span>
                        <strong id="result-time">00:00</strong>
                    </div>
                    <div class="stat-row">
                        <span>ƒêi·ªÉm c·ªông:</span>
                        <strong id="result-rating-change">+0</strong>
                    </div>
                    <div class="stat-row">
                        <span>ƒêi·ªÉm hi·ªán t·∫°i:</span>
                        <strong id="result-new-rating">1500</strong>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn btn-warning" id="btn-rematch">ƒê·∫•u L·∫°i</button>
                    <button class="btn btn-primary" id="btn-new-game">Tr·∫≠n M·ªõi</button>
                    <button class="btn btn-secondary" id="btn-to-lobby">Lobby</button>
                </div>
            </div>
        </div>

        <div class="modal" id="draw-modal">
            <div class="modal-content">
                <h2>ƒê·ªÅ Ngh·ªã H√≤a</h2>
                <p>ƒê·ªëi th·ªß ƒë·ªÅ ngh·ªã h√≤a. B·∫°n ƒë·ªìng √Ω kh√¥ng?</p>
                <div class="modal-actions">
                    <button class="btn btn-primary" id="btn-accept-draw">ƒê·ªìng √ù</button>
                    <button class="btn btn-danger" id="btn-decline-draw">T·ª´ Ch·ªëi</button>
                </div>
            </div>
        </div>

        <div class="modal" id="rematch-modal">
            <div class="modal-content">
                <h2>Y√™u C·∫ßu ƒê·∫•u L·∫°i</h2>
                <p id="rematch-request-text">ƒê·ªëi th·ªß mu·ªën ƒë·∫•u l·∫°i. B·∫°n ƒë·ªìng √Ω kh√¥ng?</p>
                <div class="modal-actions">
                    <button class="btn btn-primary" id="btn-accept-rematch">ƒê·ªìng √ù</button>
                    <button class="btn btn-danger" id="btn-decline-rematch">T·ª´ Ch·ªëi</button>
                </div>
            </div>
        </div>

        <div class="modal" id="rematch-waiting-modal">
            <div class="modal-content">
                <h2>ƒêang Ch·ªù</h2>
                <p>ƒêang ch·ªù ƒë·ªëi th·ªß ph·∫£n h·ªìi y√™u c·∫ßu ƒë·∫•u l·∫°i...</p>
                <div class="modal-actions">
                    <button class="btn btn-secondary" id="btn-cancel-rematch">H·ªßy</button>
                </div>
            </div>
        </div>

        <script type="module" src="../src/pages/game.js"></script>
    </body>
</html>
